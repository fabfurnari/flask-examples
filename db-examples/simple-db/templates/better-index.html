<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Simple DB</title>
  </head>
  <body>
    <p>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <ul class="flashes">
      {% for message in messages %}
      <li><strong>{{ message }}</strong></li>
      {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}
    </p>
    <p>
      Another simple index page with inline form to add/update/remove entries.<br />
      Just to demonstrate that the endpoint called can be on any page, not
      necessary the same...
    </p>
    <table border=1>
    <tr>
      <th>ID</th>
      <th>COLORE</th>
      <th>CITTA</th>
      <th>CANCELLA</th>
    </tr>
    {% for entry in entries %}
    <tr>
      <td>{{ entry.id }}</td>
      <td>{{ entry.colore }}</td>
      <td>{{ entry.citta }}</td>
      <td><a href={{ url_for('delete_entry', id=entry.id) }}>Delete this entry</a></td>
    </tr>
    {% endfor %}
    </table>
    <br />
    <hr>
    <br />
    <form action="{{ url_for('add_entry') }}" method="post">
      Colore: <input type="text" name="colore">
      Citta': <input type="text" name="citta">
      <input type="submit" value="submit" />
    </form>
    <p>
      <a href="{{ url_for('reset') }}">Reset</a> the database (warning!)
    </p>
  </body>
</html>

